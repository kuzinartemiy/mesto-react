{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","rel","CurrentUserContext","React","createContext","Card","props","card","cardData","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDeleteClick","aria-label","type","onCardClick","src","link","alt","name","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","onImage","onCardDelete","Footer","ImagePopup","stateClassName","isOpen","stateImgSrc","stateImgName","id","onClose","PopupWithForm","onSubmit","action","autoComplete","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","stateButtonValue","isLoading","e","preventDefault","onUpdateUser","value","onChange","required","placeholder","minLength","maxLength","EditAvatarPopup","avatarLinkRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","baseUrl","token","this","_baseUrl","_token","_headers","Authorization","res","ok","json","Promise","reject","status","fetch","method","headers","then","_getResponseData","body","JSON","stringify","App","isEditAvatarPopupOpen","setEditAvatarPopup","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setAddPlacePopup","isDeleteCardPopupOpen","setDeleteCardPopup","isImagePopupOpen","setImagePopup","setIsLoading","setCards","selectedCard","setSelectedCard","setCurrentUser","all","api","getUserInfo","getInitialCards","userData","catch","error","console","log","closeAllPopups","Provider","targetCard","changeLikeCardStatus","newCard","state","c","setUserInfo","setUserAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1bded6ef.chunk.js","sourcesContent":["function Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"#\" target=\"_self\" rel=\"noopener\" className=\"header__logo\"/>\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\nexport const currentUser = {};","import { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const card = props.cardData;\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleClick = () => {\n    props.onCardClick(card);\n  }\n\n  const handleDeleteClick = () => {\n    props.onCardDeleteClick(card);\n  }\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `place__delete ${isOwn ? 'place__delete_active' : ''}`;\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `place__like ${isLiked ? 'place__like_active' : ''}`; \n\n  const handleLikeClick = () => {\n    props.onCardLike(card);\n  }\n\n  return (\n    <li className=\"place\">\n      <button onClick={handleDeleteClick} aria-label=\"Удалить\" type=\"button\" className={cardDeleteButtonClassName}></button>\n      <img onClick={handleClick} src={card.link} alt={`Фотография ${card.name}`} className=\"place__image\"/>\n      <div className=\"place__info\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__likes\">\n          <button onClick={handleLikeClick} aria-label=\"Нравится\" type=\"button\" className={cardLikeButtonClassName}></button>\n          <span className=\"place__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Card from './Card.js';\n\nfunction Main(props) {\n  \n  const currentUser = useContext(CurrentUserContext);\n  \n  return(\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})`}}>\n          <div className=\"profile__avatar-edit\" onClick={props.onEditAvatar}/>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__job\">{currentUser.about}</p>\n          <button onClick={props.onEditProfile} aria-label=\"Редактировать\" type=\"button\" className=\"profile__edit-button\"/>\n        </div>\n        <button onClick={props.onAddPlace} aria-label=\"Добавить\" type=\"button\" className=\"profile__add-button\"/>\n      </section> \n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map(card => {\n            return(\n              <Card \n                onCardClick={props.onImage} \n                cardData={card} \n                key={card._id}\n                onCardLike={props.onCardLike}\n                onCardDeleteClick={props.onCardDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;","function Footer() {\n  return(   \n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","function ImagePopup(props) {\n\n  const handleClick = () => {\n    props.onClose();\n  }\n\n  const stateClassName = `popup ${props.isOpen ? 'popup_opened' : '' } `;\n  const stateImgSrc = `${props.card ? props.card.link : '#' } `;\n  const stateImgName = `${props.card ? props.card.name : '' } `;\n\n  return(\n    <div id=\"photo-popup\" className={stateClassName}>\n      <div className=\"popup__photo-container\">\n        <button onClick={handleClick} id=\"photo-card-close-button\" aria-label=\"Закрыть\" type=\"button\" className=\"popup__close-button\"/>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__big-image\" src={stateImgSrc} alt=\"Фотография большого размера\"/>\n          <figcaption className=\"popup__caption\">{stateImgName}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\n\n\nfunction PopupWithForm (props) {\n  \n  const handleClick = () => {\n    props.onClose();\n  }\n\n  const stateClassName = `popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : '' } `;\n  \n  return(\n    <div className={stateClassName}>\n      <div className=\"popup__container\">\n        <form onSubmit={props.onSubmit} name={props.name} action=\"#\" className=\"popup__form\" autoComplete=\"off\">\n          <button onClick={handleClick} aria-label=\"Закрыть\" type=\"button\" className=\"popup__close-button\"></button>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <button aria-label=\"Сохранить\" type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import { useEffect, useState, useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    props.onUpdateUser({\n      name : name,\n      about: description\n    });\n  };\n\n  const stateButtonValue = `${props.isLoading ? 'Сохранение...' : 'Сохранить'}`\n\n  return (\n    <PopupWithForm \n        title='Редактировать профиль' \n        name='profile-edit' \n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n        buttonText={stateButtonValue}\n      >\n        <input value={name || ''} onChange={handleChangeName} required name=\"inputName\" type=\"text\" placeholder=\"Имя\" className=\"popup__input popup__input_field_name\" minLength=\"2\" maxLength=\"40\"/>\n        <span className=\"popup__input-error\"/>\n        <input value={description || ''} onChange={handleChangeDescription} required name=\"inputJob\" type=\"text\" placeholder=\"Вид деятельности\" className=\"popup__input popup__input_field_job\" minLength=\"2\" maxLength=\"200\"/>\n        <span className=\"popup__input-error\"/>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction EditAvatarPopup(props) {\n\n  const avatarLinkRef = useRef('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarLinkRef.current.value\n    })\n    avatarLinkRef.current.value = '';\n  }\n\n  const stateButtonValue = `${props.isLoading ? 'Сохранение...' : 'Сохранить'}`\n  \n  return(\n    <PopupWithForm \n      title='Обновить аватар' \n      name='edit-avatar' \n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText={stateButtonValue}\n    >\n      <input ref={avatarLinkRef} required name=\"newCardLink\" type=\"url\" placeholder=\"Ссылка на новый аватар\" className=\"popup__input popup__input_field_avatar-link\"/>\n      <span className=\"popup__input-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeLink = (e) => {\n    setLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link\n    });\n    setName('');\n    setLink('');\n  };\n\n  const stateButtonValue = `${props.isLoading ? 'Добавление...' : 'Добавить'}`\n\n  return (\n    <PopupWithForm \n        title='Новое место' \n        name='add-card' \n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n        buttonText={stateButtonValue}\n      >\n        <input value={name} onChange={handleChangeName} required name=\"newCardName\" type=\"text\" placeholder=\"Название\" className=\"popup__input popup__input_field_card-name\" minLength=\"2\" maxLength=\"30\"/>\n        <span className=\"popup__input-error\"/>\n        <input value={link} onChange={handleChangeLink} required name=\"newCardLink\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_field_card-link\"/>\n        <span className=\"popup__input-error\"/>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteCardPopup(props) {\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onDeleteCard(props.card);\n  }\n\n  const stateButtonValue = `${props.isLoading ? 'Удаление...' : 'Да'}`\n\n  return(\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name='delete-card'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText={stateButtonValue}\n    />\n  )\n}\n\nexport default DeleteCardPopup;","class Api {\n  constructor({baseUrl, token}) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n    this._headers = {\n      Authorization: this._token,\n      'Content-Type': 'application/json'\n    };\n  };\n\n  _getResponseData(res) {\n    if(!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    };\n    return res.json();\n  };\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n\n  setUserInfo({name, about}) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n  setUserAvatar({avatar}) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n  addCard({name, link}) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method:`${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n};\n\nexport default new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  token: 'dff2004b-ae2b-4b49-ae11-6674a4b5c7dc'\n});\n","import React, { useEffect, useState } from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\n\nimport api from '../utils/api.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  \n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopup] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopup] = useState(false);\n  const [isImagePopupOpen, setImagePopup] = useState(false);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [cards, setCards] = useState([]);\n\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const [currentUser, setCurrentUser] = useState({});\n  \n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, cards]) => {\n      setCurrentUser(userData);\n      setCards(cards);\n    })\n    .catch(error => {\n      console.log(`Ошибка при получении данных: ${error}`);\n    })\n  }, []);\n\n  const handleCardClick = (targetCard) => {\n    setImagePopup(true);\n    setSelectedCard(targetCard);\n  };\n\n  const handleDeleteCardClick = (targetCard) => {\n    setDeleteCardPopup(true);\n    setSelectedCard(targetCard);\n  };\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopup(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setEditProfilePopup(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setAddPlacePopup(true);\n  };\n\n  const closeAllPopups = () => {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddPlacePopup(false);\n    setDeleteCardPopup(false);\n    setImagePopup(false);\n    setSelectedCard(null);\n  };\n\n  const handleUpdateUser = ({name, about}) => {\n    setIsLoading(true);\n\n    api.setUserInfo({name, about})\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при обновлении данных пользователя: ${error}`);\n      });\n  };\n\n  const handleUpdateAvatar = ({avatar}) => {\n    setIsLoading(true);\n\n    api.setUserAvatar({avatar})\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при обновлении аватара: ${error}`);\n      });\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      })\n      .catch(error => {\n        console.log(`Ошибка при установке/удалении лайка: ${error}`);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true);\n\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter(i => i._id !== card._id));\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при удалении карточки: ${error}`);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({name, link}) => {\n    setIsLoading(true);\n\n    api.addCard({name, link})\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при добавлении новой карточки: ${error}`);\n      });\n  };\n  \n  return(\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main \n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onImage={handleCardClick}\n          onCardDelete={handleDeleteCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n         isOpen={isEditAvatarPopupOpen}\n         onClose={closeAllPopups}\n         onUpdateAvatar={handleUpdateAvatar}\n         isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <DeleteCardPopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n          card={selectedCard}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}